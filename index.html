<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Africa interactive map</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{
      --asu-black: #000000;
      --asu-gold: rgb(255,198,39);
      --asu-maroon: rgb(140,29,64);
    }

    * { box-sizing: border-box; }
    
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    }
    /* Hide all scrollbars */
html::-webkit-scrollbar,
body::-webkit-scrollbar,
#africaMap::-webkit-scrollbar {
  display: none;
}

html,
body,
#africaMap {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
    body {
      background: transparent;
    }

    #africaMap {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      background: transparent;
    }

    #africaSvg {
      display: block;
      width: 100%;
      height: 100%;
      background: transparent;
      cursor: grab;
      overflow: hidden;
    }

    #africaSvg.dragging {
      cursor: grabbing;
    }

    /* Countries */
    .country {
      fill: #6b7280;
      stroke: #ffffff;
      stroke-width: 1.2;
      cursor: default;
      pointer-events: none;
      transition: fill 0.12s, stroke 0.12s;
      vector-effect: non-scaling-stroke;
    }

    .country.has-data {
      fill: var(--asu-gold);
      stroke: #ffffff;
      stroke-width: 1.2;
      cursor: pointer;
      pointer-events: auto;
    }

    .country.has-data:hover {
      fill: rgb(230, 178, 35);
      stroke: #ffffff;
      stroke-width: 1.5;
    }

    .country.has-data.active {
      fill: rgb(230, 178, 35);
      stroke: #ffffff;
      stroke-width: 2.0;
    }

    /* Zoom controls - always visible */
    .zoom-controls {
      position: fixed;
      top: 10px;
      right: 10px;
      display: flex;
      flex-direction: column;
      gap: 6px;
      z-index: 100;
      padding: 8px;
      border-radius: 8px;
      border: 1px solid rgba(255, 198, 39, 0.2);
      background: rgba(0, 0, 0, 0.7);
    }

    .zoom-btn {
      width: 36px;
      height: 36px;
      background: rgba(255, 255, 255, 0.95);
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #333;
      transition: all 0.2s;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
    }

    .zoom-btn:hover {
      background: #fff;
      border-color: var(--asu-gold);
      transform: scale(1.05);
    }

    .zoom-btn:active {
      transform: scale(0.95);
    }

    /* Source attribution */
    .source-box {
      position: fixed;
      bottom: 10px;
      left: 10px;
      background: rgba(255, 255, 255, 0.95);
      color: #333;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 11px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      z-index: 50;
      max-width: calc(100% - 20px);
    }

    .source-box strong {
      font-weight: 600;
      margin-right: 4px;
    }

    .source-box a {
      color: var(--asu-maroon);
      text-decoration: none;
    }

    .source-box a:hover {
      text-decoration: underline;
    }

    svg {
  overflow: hidden;
}
    /* Info card - Desktop */
    #africaCard {
      position: fixed;
      display: none;
      width: 420px;
      max-width: calc(100vw - 20px);
      max-height: calc(100vh - 40px);
      background: Canvas;
      color: CanvasText;
      border: 1px solid rgba(0, 0, 0, 0.15);
      border-radius: 12px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
      padding: 20px;
      z-index: 1000;
      visibility: hidden;
      overflow-y: auto;
    }
    
    #africaCard.show {
      visibility: visible;
    }

    .cardHead {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 16px;
      padding-bottom: 12px;
        padding-left: 4px;   /* ADD THIS */
  padding-right: 4px;
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }

    #africaCardTitle {
      font-weight: 700;
      font-size: 20px;
      color: CanvasText;
    }

    #africaCardClose {
      width: 32px;
      height: 32px;
      border: 1px solid rgba(0, 0, 0, 0.15);
      border-radius: 8px;
      background: transparent;
      color: CanvasText;
      cursor: pointer;
      font-size: 20px;
      line-height: 1;
      flex-shrink: 0;
      transition: background 0.2s;
    }

    #africaCardClose:hover {
      background: rgba(0, 0, 0, 0.05);
    }

    .cardGrid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-bottom: 16px;
    }

    .stat {
      background: rgba(0, 0, 0, 0.03);
      border: 1px solid rgba(0, 0, 0, 0.08);
      border-radius: 8px;
      padding: 12px;
    }

    .lbl {
      font-size: 11px;
      opacity: 0.7;
      margin-bottom: 6px;
      font-weight: 500;
      color: CanvasText;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .val {
      font-size: 16px;
      font-weight: 700;
      color: CanvasText;
    }

    .description {
      background: rgba(0, 0, 0, 0.02);
      border: 1px solid rgba(0, 0, 0, 0.08);
      border-radius: 8px;
      padding: 14px;
      margin-bottom: 16px;
      font-size: 13px;
      line-height: 1.5;
      color: CanvasText;
    }

    .sources-section {
      border-top: 1px solid rgba(0, 0, 0, 0.1);
      padding-top: 12px;
    }

    .sources-title {
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      opacity: 0.7;
      margin-bottom: 8px;
    }

    .source-link {
      display: block;
      padding: 8px 10px;
      background: rgba(0, 0, 0, 0.02);
      border: 1px solid rgba(0, 0, 0, 0.08);
      border-radius: 6px;
      margin-bottom: 6px;
      font-size: 12px;
      color: var(--asu-maroon);
      text-decoration: none;
      transition: all 0.2s;
    }

    .source-link:hover {
      background: rgba(140, 29, 64, 0.08);
      border-color: var(--asu-maroon);
    }

    .source-link.placeholder {
      color: #999;
      cursor: default;
      font-style: italic;
    }

    .source-link.placeholder:hover {
      background: rgba(0, 0, 0, 0.02);
      border-color: rgba(0, 0, 0, 0.08);
    }

    /* Mobile adjustments */
    @media (max-width: 768px) {
      #africaMap {
        overflow-y: scroll;
        overflow-x: hidden;
        -webkit-overflow-scrolling: touch;
      }

      #africaSvg {
        cursor: default;
      }
      
      /* Hide zoom controls and source on mobile */
      .zoom-controls,
      .source-box {
        display: none;
      }

      #africaCard {
        position: fixed;
        inset: 0;
        width: 100%;
        height: 100%;
        max-width: 100%;
        max-height: 100%;
        border-radius: 0;
        overflow-y: auto;
        overflow-x: hidden;
        -webkit-overflow-scrolling: touch;
        padding: 60px 20px 32px 20px;
        border: none;
        flex-direction: column;
        visibility: hidden;
        display: flex;
      }
      
      #africaCard.show {
        visibility: visible;
      }

      .cardHead {
        margin-bottom: 20px;
        padding-bottom: 16px;
        flex-shrink: 0;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background: Canvas;
        z-index: 10;
        padding-top: 20px;
         padding-left: 20px;   /* ADD THIS */
  padding-right: 20px;
        margin-top: 0;
      }

      #africaCard > .cardGrid,
      #africaCard > .description,
      #africaCard > .sources-section {
        margin-top: 80px;
      }

      #africaCard > .cardGrid {
        margin-top: 100px;
      }

      #africaCardTitle {
        font-size: 24px;
      }

      #africaCardClose {
        width: 40px;
        height: 40px;
        font-size: 24px;
      }

      .cardGrid {
        gap: 12px;
      }

      .stat {
        padding: 14px;
      }

      .lbl {
        font-size: 12px;
        margin-bottom: 8px;
      }

      .val {
        font-size: 18px;
      }

      .description {
        font-size: 14px;
        padding: 16px;
        margin-bottom: 20px;
      }

      /* Hide map elements when card is open on mobile */
      #africaMap.card-open #africaSvg {
        display: none;
      }

      #africaMap.card-open {
        overflow: hidden;
      }
    }

    /* Very small mobile phones */
    @media (max-width: 375px) {
      .cardGrid {
        grid-template-columns: 1fr;
      }
      
      #africaCard {
        padding: 20px 16px 28px 16px;
      }
    }

    /* Dark mode support */
    @media (prefers-color-scheme: dark) {
      #africaCard {
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6);
      }

      .source-box {
        background: rgba(30, 30, 30, 0.95);
        color: #e0e0e0;
      }

      .source-box a {
        color: var(--asu-gold);
      }
    }
  </style>
</head>
<body>
  <div id="africaMap">
    <svg id="africaSvg" aria-label="Africa map"></svg>

    <!-- Zoom controls -->
    <div class="zoom-controls">
      <button class="zoom-btn" id="zoomIn" aria-label="Zoom in">+</button>
      <button class="zoom-btn" id="zoomOut" aria-label="Zoom out">−</button>
      <button class="zoom-btn" id="zoomReset" aria-label="Reset zoom" style="font-size: 16px;">⊙</button>
    </div>

    <!-- Source attribution -->
    <div class="source-box">
      <strong>Data Sources:</strong> <span id="sourceText">Multiple sources including UN, World Bank, IMF</span>
    </div>

    <!-- Info card -->
    <div id="africaCard" role="dialog" aria-label="Country details">
      <div class="cardHead">
        <div id="africaCardTitle">Country</div>
        <button id="africaCardClose" type="button" aria-label="Close">×</button>
      </div>
      
      <div class="cardGrid">
        <div class="stat"><div class="lbl">Population</div><div class="val" id="popVal">—</div></div>
        <div class="stat"><div class="lbl">GDP per Capita</div><div class="val" id="gdpVal">—</div></div>
        <div class="stat"><div class="lbl">Universities</div><div class="val" id="uniVal">—</div></div>
        <div class="stat"><div class="lbl">Youth Pop %</div><div class="val" id="youthVal">—</div></div>
        <div class="stat"><div class="lbl">Youth Unemployment</div><div class="val" id="youthUnempVal">—</div></div>
        <div class="stat"><div class="lbl">Dominant Sector</div><div class="val" id="sectorVal">—</div></div>
      </div>

      <div class="description" id="descriptionText">
        Country description will appear here.
      </div>

      <div class="sources-section">
        <div class="sources-title">Data Sources</div>
        <div id="sourcesContainer"></div>
      </div>
    </div>
  </div>

  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script>
  (() => {
    const geoUrl = "https://raw.githubusercontent.com/LiaScript/GeoJson/master/africa.geo.json";

    // Sample data - replace with your full dataset
const stats = {
  "AGO": {
    "country": "Angola",
    "population": "37.89M",
    "gdp_per_capita": "$2,666",
    "dominant_sector": "Agriculture (56%)",
    "youth_unemployment": "27.9%",
    "universities": 20.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Source)",
        "url": "Population, total - Angola"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=AO"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=AO"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=AO"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/ao/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/angola/"
      }
    ]
  },
  "BEN": {
    "country": "Benin",
    "population": "14.46M",
    "gdp_per_capita": "$1,485",
    "dominant_sector": "Services (50%)",
    "youth_unemployment": "3.3%",
    "universities": 24.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=BJ"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=BJ"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=BJ"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=BJ"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/bj/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/benin/"
      }
    ]
  },
  "BWA": {
    "country": "Botswana",
    "population": "2.52M",
    "gdp_per_capita": "$7,696",
    "dominant_sector": "Services (66%)",
    "youth_unemployment": "43.9%",
    "universities": 15.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "http://data.worldbank.org/indicator/SP.POP.TOTL?locations=BW"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=BW"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=BW"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=BW"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/bw/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/botswana/"
      }
    ]
  },
  "BFA": {
    "country": "Burkina Faso",
    "population": "23.55M",
    "gdp_per_capita": "$982",
    "dominant_sector": "Services (46%)",
    "youth_unemployment": "8.1%",
    "universities": 16.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=BF"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=BF"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=BF"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=BF"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/bf/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/burkina-faso/"
      }
    ]
  },
  "BDI": {
    "country": "Burundi",
    "population": "14.05M",
    "gdp_per_capita": "$219",
    "dominant_sector": "Agriculture (85%)",
    "youth_unemployment": "1.6%",
    "universities": 20.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=BI"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=BI"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=BI"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=BI"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/bi/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/burundi/"
      }
    ]
  },
  "CPV": {
    "country": "Cabo Verde",
    "population": "0.52M",
    "gdp_per_capita": "$5,192",
    "dominant_sector": "Services (68%)",
    "youth_unemployment": "28.2%",
    "universities": 9.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=CV"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=CV"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=CV"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=CV"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/cv/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/cabo-verde/"
      }
    ]
  },
  "CMR": {
    "country": "Cameroon",
    "population": "29.12M",
    "gdp_per_capita": "$1,830",
    "dominant_sector": "Agriculture (43%)",
    "youth_unemployment": "6.2%",
    "universities": 16.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=CM"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=CM"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=CM"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=CM"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/cm/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/cameroon/"
      }
    ]
  },
  "CAF": {
    "country": "Central African Republic",
    "population": "5.33M",
    "gdp_per_capita": "$516",
    "dominant_sector": "Agriculture (71%)",
    "youth_unemployment": "9.5%",
    "universities": 1.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=CF"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=CF"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=CF"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=CF"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/cf/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/central-african-republic/"
      }
    ]
  },
  "TCD": {
    "country": "Chad",
    "population": "20.30M",
    "gdp_per_capita": "$962",
    "dominant_sector": "Agriculture (69%)",
    "youth_unemployment": "1.5%",
    "universities": 9.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=TD"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=TD"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=TD"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=TD"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/td/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/chad/"
      }
    ]
  },
  "COD": {
    "country": "Congo, Dem. Rep.",
    "population": "109.28M",
    "gdp_per_capita": "$649",
    "dominant_sector": "Agriculture (55%)",
    "youth_unemployment": "8.5%",
    "universities": 66.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=CD"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=CD"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=CD"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=CD"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/cd/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/congo-dem-rep/"
      }
    ]
  },
  "COG": {
    "country": "Congo, Rep.",
    "population": "6.33M",
    "gdp_per_capita": "$2,482",
    "dominant_sector": "Services (47%)",
    "youth_unemployment": "40.0%",
    "universities": 1.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=CG"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=CG"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=CG"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=CG"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/cg/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/congo-rep/"
      }
    ]
  },
  "DJI": {
    "country": "Djibouti",
    "population": "1.17M",
    "gdp_per_capita": "$3,553",
    "dominant_sector": "Services (93%)",
    "youth_unemployment": "76.3%",
    "universities": 1.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=DJ"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=DJ"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=DJ"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=DJ"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/dj/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/djibouti/"
      }
    ]
  },
  "GNQ": {
    "country": "Equatorial Guinea",
    "population": "1.89M",
    "gdp_per_capita": "$6,745",
    "dominant_sector": "Agriculture (56%)",
    "youth_unemployment": "14.7%",
    "universities": 1.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=GQ"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=GQ"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=GQ"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=GQ"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/gq/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/equatorial-guinea/"
      }
    ]
  },
  "ERI": {
    "country": "Eritrea",
    "population": "3.54M",
    "gdp_per_capita": "N/A",
    "dominant_sector": "Agriculture (61%)",
    "youth_unemployment": "9.4%",
    "universities": 7.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=ER"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=ER"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=ER"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=ER"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/er/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/eritrea/"
      }
    ]
  },
  "SWZ": {
    "country": "Eswatini",
    "population": "1.24M",
    "gdp_per_capita": "$3,910",
    "dominant_sector": "Services (68%)",
    "youth_unemployment": "58.2%",
    "universities": 7.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=SZ"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=SZ"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=SZ"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=SZ"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/sz/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/eswatini/"
      }
    ]
  },
  "ETH": {
    "country": "Ethiopia",
    "population": "132.06M",
    "gdp_per_capita": "$1,134",
    "dominant_sector": "Agriculture (62%)",
    "youth_unemployment": "5.4%",
    "universities": 51.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=ET"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=ET"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=ET"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=ET"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/et/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/ethiopia/"
      }
    ]
  },
  "GAB": {
    "country": "Gabon",
    "population": "2.54M",
    "gdp_per_capita": "$8,230",
    "dominant_sector": "Services (55%)",
    "youth_unemployment": "36.0%",
    "universities": 23.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=GA"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=GA"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=GA"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=GA"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/ga/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/gabon/"
      }
    ]
  },
  "GMB": {
    "country": "Gambia, The",
    "population": "2.76M",
    "gdp_per_capita": "$871",
    "dominant_sector": "Services (52%)",
    "youth_unemployment": "10.9%",
    "universities": 2.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=GM"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=GM"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=GM"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=GM"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/gm/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/gambia-the/"
      }
    ]
  },
  "GHA": {
    "country": "Ghana",
    "population": "34.43M",
    "gdp_per_capita": "$2,391",
    "dominant_sector": "Services (47%)",
    "youth_unemployment": "5.4%",
    "universities": 69.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=GH"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=GH"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=GH"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=GH"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/gh/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/ghana/"
      }
    ]
  },
  "GIN": {
    "country": "Guinea",
    "population": "14.75M",
    "gdp_per_capita": "$1,695",
    "dominant_sector": "Agriculture (58%)",
    "youth_unemployment": "7.1%",
    "universities": 1.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=GN"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=GN"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=GN"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=GN"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/gn/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/guinea/"
      }
    ]
  },
  "GNB": {
    "country": "Guinea-Bissau",
    "population": "2.20M",
    "gdp_per_capita": "$1,008",
    "dominant_sector": "Agriculture (50%)",
    "youth_unemployment": "2.8%",
    "universities": "N/A",
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=GW"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=GW"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=GW"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=GW"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/guinea-bissau/"
      }
    ]
  },
  "KEN": {
    "country": "Kenya",
    "population": "56.43M",
    "gdp_per_capita": "$2,132",
    "dominant_sector": "Services (52%)",
    "youth_unemployment": "11.9%",
    "universities": 69.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=KE"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=KE"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=KE"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=KE"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/ke/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/kenya/"
      }
    ]
  },
  "LSO": {
    "country": "Lesotho",
    "population": "2.34M",
    "gdp_per_capita": "$972",
    "dominant_sector": "Services (36%)",
    "youth_unemployment": "24.2%",
    "universities": 2.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=LS"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=LS"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=LS"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=LS"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/ls/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/lesotho/"
      }
    ]
  },
  "LBR": {
    "country": "Liberia",
    "population": "5.61M",
    "gdp_per_capita": "$852",
    "dominant_sector": "Services (53%)",
    "youth_unemployment": "2.1%",
    "universities": 11.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=LR"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=LR"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=LR"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=LR"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/lr/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/liberia/"
      }
    ]
  },
  "MDG": {
    "country": "Madagascar",
    "population": "31.96M",
    "gdp_per_capita": "$545",
    "dominant_sector": "Agriculture (69%)",
    "youth_unemployment": "5.4%",
    "universities": 6.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=MG"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=MG"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=MG"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=MG"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/mg/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/madagascar/"
      }
    ]
  },
  "MWI": {
    "country": "Malawi",
    "population": "21.66M",
    "gdp_per_capita": "$523",
    "dominant_sector": "Agriculture (62%)",
    "youth_unemployment": "6.8%",
    "universities": 20.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=MW"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=MW"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=MW"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=MW"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/mw/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/malawi/"
      }
    ]
  },
  "MLI": {
    "country": "Mali",
    "population": "24.48M",
    "gdp_per_capita": "$1,095",
    "dominant_sector": "Agriculture (68%)",
    "youth_unemployment": "4.0%",
    "universities": 10.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=ML"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=ML"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=ML"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=ML"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/ml/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/mali/"
      }
    ]
  },
  "MRT": {
    "country": "Mauritania",
    "population": "5.17M",
    "gdp_per_capita": "$2,110",
    "dominant_sector": "Services (53%)",
    "youth_unemployment": "23.2%",
    "universities": 4.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=MR"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=MR"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=MR"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=MR"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/mr/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/mauritania/"
      }
    ]
  },
  "MUS": {
    "country": "Mauritius",
    "population": "1.25M",
    "gdp_per_capita": "$11,991",
    "dominant_sector": "Services (72%)",
    "youth_unemployment": "16.6%",
    "universities": 5.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=MU"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=MU"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=MU"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=MU"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/mu/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/mauritius/"
      }
    ]
  },
  "MOZ": {
    "country": "Mozambique",
    "population": "34.63M",
    "gdp_per_capita": "$657",
    "dominant_sector": "Agriculture (69%)",
    "youth_unemployment": "7.4%",
    "universities": 11.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=MZ"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=MZ"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=MZ"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=MZ"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/mz/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/mozambique/"
      }
    ]
  },
  "NAM": {
    "country": "Namibia",
    "population": "3.03M",
    "gdp_per_capita": "$4,413",
    "dominant_sector": "Services (62%)",
    "youth_unemployment": "37.3%",
    "universities": 3.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=NA"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=NA"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=NA"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=NA"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/na/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/namibia/"
      }
    ]
  },
  "NER": {
    "country": "Niger",
    "population": "27.03M",
    "gdp_per_capita": "$735",
    "dominant_sector": "Agriculture (71%)",
    "youth_unemployment": "0.3%",
    "universities": 3.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=NE"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=NE"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=NE"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=NE"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/ne/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/niger/"
      }
    ]
  },
  "NGA": {
    "country": "Nigeria",
    "population": "232.68M",
    "gdp_per_capita": "$1,084",
    "dominant_sector": "Services (48%)",
    "youth_unemployment": "5.1%",
    "universities": 165.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=NG"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=NG"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=NG"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=NG"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/ng/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/nigeria/"
      }
    ]
  },
  "RWA": {
    "country": "Rwanda",
    "population": "14.26M",
    "gdp_per_capita": "$1,000",
    "dominant_sector": "Agriculture (55%)",
    "youth_unemployment": "17.5%",
    "universities": 19.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=RW"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=RW"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=RW"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=RW"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/rw/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/rwanda/"
      }
    ]
  },
  "SEN": {
    "country": "Senegal",
    "population": "18.50M",
    "gdp_per_capita": "$1,773",
    "dominant_sector": "Services (56%)",
    "youth_unemployment": "4.1%",
    "universities": 28.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=SN"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=SN"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=SN"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=SN"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/sn/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/senegal/"
      }
    ]
  },
  "SLE": {
    "country": "Sierra Leone",
    "population": "8.64M",
    "gdp_per_capita": "$807",
    "dominant_sector": "Services (45%)",
    "youth_unemployment": "3.6%",
    "universities": 7.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=SL"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=SL"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=SL"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=SL"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/sl/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/sierra-leone/"
      }
    ]
  },
  "SOM": {
    "country": "Somalia",
    "population": "19.01M",
    "gdp_per_capita": "$637",
    "dominant_sector": "Services (56%)",
    "youth_unemployment": "33.9%",
    "universities": 52.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://datacommons.org/place/country/SOM"
      },
      {
        "label": "GDP per Capita (Source)",
        "url": "https://datacommons.org/place/country/SOM"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=SO"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=SO"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/so/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/somalia/"
      }
    ]
  },
  "ZAF": {
    "country": "South Africa",
    "population": "64.01M",
    "gdp_per_capita": "$6,267",
    "dominant_sector": "Services (64%)",
    "youth_unemployment": "60.9%",
    "universities": 25.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=ZA"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=ZA"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=ZA"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=ZA"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/za/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/south-africa/"
      }
    ]
  },
  "SSD": {
    "country": "South Sudan",
    "population": "11.94M",
    "gdp_per_capita": "N/A",
    "dominant_sector": "Agriculture (59%)",
    "youth_unemployment": "18.5%",
    "universities": 12.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=SS"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=SS"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=SS"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=SS"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/ss/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/south-sudan/"
      }
    ]
  },
  "TZA": {
    "country": "Tanzania",
    "population": "68.56M",
    "gdp_per_capita": "$1,187",
    "dominant_sector": "Agriculture (65%)",
    "youth_unemployment": "3.3%",
    "universities": 30.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=TZ"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=TZ"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=TZ"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=TZ"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/tz/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/tanzania/"
      }
    ]
  },
  "TGO": {
    "country": "Togo",
    "population": "9.52M",
    "gdp_per_capita": "$1,119",
    "dominant_sector": "Services (50%)",
    "youth_unemployment": "3.4%",
    "universities": 4.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=TG"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=TG"
      },
      {
        "label": "Dominant Sector – Employment in Services (% of total employment, World Bank)",
        "url": "https://data.worldbank.org/indicator/SL.SRV.EMPL.ZS?locations=TG"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=TG"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/tg/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/togo/"
      }
    ]
  },
  "UGA": {
    "country": "Uganda",
    "population": "50.02M",
    "gdp_per_capita": "$1,078",
    "dominant_sector": "Agriculture (66%)",
    "youth_unemployment": "4.5%",
    "universities": 43.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=UG"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=UG"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=UG"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=UG"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/ug/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/uganda/"
      }
    ]
  },
  "ZMB": {
    "country": "Zambia",
    "population": "21.31M",
    "gdp_per_capita": "$1,187",
    "dominant_sector": "Agriculture (55%)",
    "youth_unemployment": "9.9%",
    "universities": 52.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=ZM"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=ZM"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=ZM"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=ZM"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/zm/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/zambia/"
      }
    ]
  },
  "ZWE": {
    "country": "Zimbabwe",
    "population": "16.63M",
    "gdp_per_capita": "$2,497",
    "dominant_sector": "Agriculture (53%)",
    "youth_unemployment": "14.0%",
    "universities": 11.0,
    "description": "CIA - The World Factbook",
    "sources": [
      {
        "label": "Population & GDP per Capita (Data Commons / World Bank, 2024)",
        "url": "https://data.worldbank.org/indicator/SP.POP.TOTL?locations=ZW"
      },
      {
        "label": "GDP per Capita – World Bank (current US$, 2024)",
        "url": "https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=ZW"
      },
      {
        "label": "Dominant Sector (World Bank, 2023)",
        "url": "https://data.worldbank.org/indicator/SL.AGR.EMPL.ZS?locations=ZW"
      },
      {
        "label": "Youth Unemployment – Ages 15–24 (World Bank / ILO, 2024)",
        "url": "https://data.worldbank.org/indicator/SL.UEM.1524.ZS?locations=ZW"
      },
      {
        "label": "Universities (UniRank, 2024)",
        "url": "https://www.unirank.org/zw/"
      },
      {
        "label": "Country Description (CIA World Factbook, 2023)",
        "url": "https://www.cia.gov/the-world-factbook/countries/zimbabwe/"
      }
    ]
  }
};
    const root = document.getElementById("africaMap");
    const svg = d3.select("#africaSvg");
    const card = document.getElementById("africaCard");
    const closeBtn = document.getElementById("africaCardClose");

    const cardTitle = document.getElementById("africaCardTitle");
    const popVal = document.getElementById("popVal");
    const gdpVal = document.getElementById("gdpVal");
    const uniVal = document.getElementById("uniVal");
    const youthVal = document.getElementById("youthVal");
    const youthUnempVal = document.getElementById("youthUnempVal");
    const sectorVal = document.getElementById("sectorVal");
    const descriptionText = document.getElementById("descriptionText");
    const sourcesContainer = document.getElementById("sourcesContainer");

    const projection = d3.geoMercator().center([20, 3]);
    const path = d3.geoPath(projection);

    let countriesGroup = null;
    let geoData = null;
    let zoomBehavior = null;
    
    const isMobile = () => window.innerWidth <= 768;

    function getDimensions() {
      const rect = svg.node().getBoundingClientRect();
      return { width: rect.width, height: rect.height };
    }

    function updateProjectionAndZoom() {
      if (!geoData) return;
      
      const { width, height } = getDimensions();
      const padding = 22;

      projection.fitExtent([[padding, padding], [width - padding, height - padding]], geoData);

      if (zoomBehavior) {
        svg.on(".zoom", null);
      }

      zoomBehavior = d3.zoom()
        .scaleExtent([1, 8])
        .translateExtent([[0, 0], [width, height]])
        .extent([[0, 0], [width, height]])
        .on("zoom", (event) => {
          if (countriesGroup) countriesGroup.attr("transform", event.transform);
        });

      svg.call(zoomBehavior);
      svg.attr("viewBox", `0 0 ${width} ${height}`);

      if (countriesGroup) {
        countriesGroup.selectAll("path").attr("d", path);
      }
    }

    d3.select("#zoomIn").on("click", () => {
      svg.transition().duration(300).call(zoomBehavior.scaleBy, 1.5);
    });

    d3.select("#zoomOut").on("click", () => {
      svg.transition().duration(300).call(zoomBehavior.scaleBy, 0.67);
    });

    d3.select("#zoomReset").on("click", () => {
      svg.transition().duration(500).call(zoomBehavior.transform, d3.zoomIdentity);
    });

    function hideCard() {
      card.classList.remove("show");
      setTimeout(() => {
        card.style.display = "none";
      }, 50);
      root.classList.remove("card-open");
      if (countriesGroup) countriesGroup.selectAll(".country").classed("active", false);
    }

    closeBtn.addEventListener("click", hideCard);
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") hideCard();
    });

    document.addEventListener("click", (e) => {
      if (card.style.display === "none") return;
      if (!card.contains(e.target) && !e.target.closest('.country.has-data')) {
        hideCard();
      }
    });

    function showCardAt(clientX, clientY) {
      card.style.display = "block";
      
      requestAnimationFrame(() => {
        card.classList.add("show");
      });

      if (isMobile()) {
        root.classList.add("card-open");
        card.style.left = "";
        card.style.top = "";
        return;
      }

      root.classList.remove("card-open");
      requestAnimationFrame(() => {
        const cardRect = card.getBoundingClientRect();
        const viewportWidth = window.innerWidth;
        const viewportHeight = window.innerHeight;
        
        let left = clientX + 12;
        let top = clientY + 12;

        const maxLeft = viewportWidth - cardRect.width - 12;
        const maxTop = viewportHeight - cardRect.height - 12;

        if (left > maxLeft) left = Math.max(12, clientX - cardRect.width - 12);
        if (top > maxTop) top = Math.max(12, clientY - cardRect.height - 12);

        left = Math.max(12, Math.min(left, maxLeft));
        top = Math.max(12, Math.min(top, maxTop));

        card.style.left = left + "px";
        card.style.top = top + "px";
      });
    }

    function stripFarSouthIslands(feature, minLatKeep = -38) {
      const p = feature.properties || {};
      const iso = p.ISO_A3 || p.iso_a3 || p.ID || "";

      if (iso !== "ZAF") return feature;

      const g = feature.geometry;
      if (!g) return feature;

      const centroidLat = (polyCoords) => {
        const tmp = { type: "Feature", geometry: { type: "Polygon", coordinates: polyCoords } };
        return d3.geoCentroid(tmp)[1];
      };

      if (g.type === "Polygon") {
        const lat = centroidLat(g.coordinates);
        if (lat < minLatKeep) return null;
        return feature;
      }

      if (g.type === "MultiPolygon") {
        const kept = g.coordinates.filter(polyCoords => centroidLat(polyCoords) >= minLatKeep);
        if (!kept.length) return feature;

        return {
          ...feature,
          geometry: { type: "MultiPolygon", coordinates: kept }
        };
      }

      return feature;
    }

    let resizeTimeout;
    window.addEventListener("resize", () => {
      clearTimeout(resizeTimeout);
      resizeTimeout = setTimeout(() => {
        updateProjectionAndZoom();
      }, 150);
    });

    d3.json(geoUrl).then(rawGeo => {
      geoData = {
        ...rawGeo,
        features: rawGeo.features
          .map(f => stripFarSouthIslands(f, -38))
          .filter(Boolean)
      };

      svg.attr("preserveAspectRatio", "xMidYMid meet");

      countriesGroup = svg.append("g").attr("class", "countries");

      const features = geoData.features.map(f => {
        const p = f.properties || {};
        const iso = p.ISO_A3 || p.iso_a3 || p.ID || "";
        const name = p.ADMIN || p.name || iso;
        const hasData = !!stats[iso];
        f.__iso = iso;
        f.__name = name;
        f.__hasData = hasData;
        return f;
      });

      countriesGroup.selectAll("path")
        .data(features)
        .join("path")
        .attr("class", d => d.__hasData ? "country has-data" : "country")
        .attr("d", path)
        .on("mouseover", function(_, d) {
          if (!d.__hasData) return;
          d3.select(this).classed("hover", true);
        })
        .on("mouseout", function(_, d) {
          if (!d.__hasData) return;
          d3.select(this).classed("hover", false);
        })
        .on("click", function(event, d) {
          if (!d.__hasData) return;
          event.stopPropagation();

          countriesGroup.selectAll(".country").classed("active", false);
          d3.select(this).classed("active", true);

          const data = stats[d.__iso];
          cardTitle.textContent = data.country || d.__name;
          popVal.textContent = data.population ?? "N/A";
          gdpVal.textContent = data.gdp_per_capita ?? "N/A";
          uniVal.textContent = data.universities ?? "N/A";
          youthVal.textContent = data.youth_population ?? "N/A";
          youthUnempVal.textContent = data.youth_unemployment ?? "N/A";
          sectorVal.textContent = data.dominant_sector ?? "N/A";
          descriptionText.textContent = data.description || "No description available.";

          // Populate sources
          sourcesContainer.innerHTML = "";
          if (data.sources && data.sources.length > 0) {
            data.sources.forEach(source => {
              const link = document.createElement("a");
              link.className = source.url ? "source-link" : "source-link placeholder";
              link.textContent = source.label;
              if (source.url) {
                link.href = source.url;
                link.target = "_blank";
                link.rel = "noopener noreferrer";
              } else {
                link.textContent = source.label + " (link coming soon)";
              }
              sourcesContainer.appendChild(link);
            });
          } else {
            sourcesContainer.innerHTML = '<div class="source-link placeholder">Sources will be added</div>';
          }

          showCardAt(event.clientX, event.clientY);
        });

      updateProjectionAndZoom();

    }).catch(console.error);
  })();
  </script>
</body>
</html>